function init(){spawnBadGuys(spawnAmount),drawBackground(),startLoop(),document.addEventListener("keydown",checkKeyDown,!1),document.addEventListener("keyup",checkKeyUp,!1)}function loop(){isPlaying&&(superMe.draw(),drawAllBadGuys(),requestAnimFrame(loop))}function startLoop(){isPlaying=!0,loop()}function stopLoop(){isPlaying=!1}function drawAllBadGuys(){clearContextBadGuys();for(var a=0;a<badGuys.length;a++)badGuys[a].draw()}function spawnBadGuys(a){for(var b=0;a>b;b++)badGuys[badGuys.length]=new BadGuy}function SuperMe(){this.sourceX=0,this.sourceY=600,this.width=146,this.height=114,this.speed=2,this.drawX=0,this.drawY=0,this.isUpKey=!1,this.isRightKey=!1,this.isDownKey=!1,this.isLeftKey=!1}function clearContextSuperMe(){contextSuperMe.clearRect(0,0,gameWidth,gameHeight)}function BadGuy(){this.sourceX=0,this.sourceY=715,this.width=62,this.height=60,this.speed=2,this.drawX=Math.floor(800*Math.random())+gameWidth,this.drawY=Math.floor(Math.random()*(gameHeight-150))}function clearContextBadGuys(){contextBadGuys.clearRect(0,0,gameWidth,gameHeight)}function drawBackground(){var a=0,b=0,c=0,d=0;contextBackground.drawImage(imgSprite,a,b,gameWidth,gameHeight,c,d,gameWidth,gameHeight)}function clearContextBackground(){contextBackground.clearRect(0,0,gameWidth,gameHeight)}function checkKeyDown(a){var b=a.keyCode||a.which,c=38,d=87,e=39,f=68,g=40,h=83,i=37,j=65;(b===c||b===d)&&(superMe.isUpKey=!0,a.preventDefault()),(b===e||b===f)&&(superMe.isRightKey=!0,a.preventDefault()),(b===g||b===h)&&(superMe.isDownKey=!0,a.preventDefault()),(b===i||b===j)&&(superMe.isLeftKey=!0,a.preventDefault())}function checkKeyUp(a){var b=a.keyCode||a.which,c=38,d=87,e=39,f=68,g=40,h=83,i=37,j=65;(b===c||b===d)&&(superMe.isUpKey=!1,a.preventDefault()),(b===e||b===f)&&(superMe.isRightKey=!1,a.preventDefault()),(b===g||b===h)&&(superMe.isDownKey=!1,a.preventDefault()),(b===i||b===j)&&(superMe.isLeftKey=!1,a.preventDefault())}var superMe=new SuperMe,canvasSuperMe=document.getElementById("super-me"),contextSuperMe=canvasSuperMe.getContext("2d"),canvasBackground=document.getElementById("canvas-background"),contextBackground=canvasBackground.getContext("2d"),canvasBadGuys=document.getElementById("bad-guys"),contextBadGuys=canvasBadGuys.getContext("2d"),badGuys=[],spawnAmount=5,gameWidth=canvasBackground.width,gameHeight=canvasBackground.height,isPlaying=!1,fps=10,drawInterval,requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),imgSprite=new Image;imgSprite.src="images/sprite.png",imgSprite.addEventListener("load",init,!1),SuperMe.prototype.draw=function(){clearContextSuperMe(),this.checkKeys(),contextSuperMe.drawImage(imgSprite,this.sourceX,this.sourceY,this.width,this.height,this.drawX,this.drawY,this.width,this.height)},SuperMe.prototype.checkKeys=function(){this.isUpKey&&(this.drawY-=this.speed),this.isRightKey&&(this.drawX+=this.speed),this.isDownKey&&(this.drawY+=this.speed),this.isLeftKey&&(this.drawX-=this.speed)},BadGuy.prototype.draw=function(){this.drawX-=this.speed,contextBadGuys.drawImage(imgSprite,this.sourceX,this.sourceY,this.width,this.height,this.drawX,this.drawY,this.width,this.height),this.checkEscaped()},BadGuy.prototype.checkEscaped=function(){this.drawX+this.width<=0&&this.reuseBadGuy()},BadGuy.prototype.reuseBadGuy=function(){this.drawX=Math.floor(800*Math.random())+gameWidth,this.drawY=Math.floor(Math.random()*(gameHeight-150))};